<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ゆるすぎポケモンいえるかな</title>
<style>
:root{--bg:#fdf4f4;--card:#fff;--accent:#a7f3d0;--button:#34d399;--button-text:#fff;}
html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Hiragino Kaku Gothic ProN",Meiryo,sans-serif;background:var(--bg);color:#1f2937;}
.wrap{max-width:960px;margin:8px auto;padding:8px;}
.card{background: var(--card); border-radius: 12px; padding: 12px; box-shadow: 0 6px 18px rgba(2,6,23,0.06); display: flex; flex-direction: column; max-height: 720px;}
h1{margin:0 0 6px;font-size:20px;}
.meta{color:#475569;font-size:13px;margin-bottom:8px;}
.tabs{display:flex;gap:6px;margin-bottom:8px;flex-wrap:wrap;}
.tabs button{flex:1;padding:8px;border:0;background:#64748b;color:white;cursor:pointer;border-radius:12px;}
.tabs button.active{background:var(--accent); color:#065f46;}
.controls{display:flex;gap:6px;margin-bottom:8px;flex-wrap:wrap;}
input[type=text]{flex:1;padding:8px 10px;border-radius:12px;border:1px solid #e2e8f0;font-size:15px;min-width:160px;}
button.sendBtn{background:var(--button);color:var(--button-text);border-radius:12px;border:0;}
button.secondary{background:#64748b;border-radius:12px;border:0;color:white;}
button.hintBtn{background:#fcd34d;border-radius:12px;border:0;color:#92400e;}
button.giveupBtn{background:#f87171;border-radius:12px;border:0;color:white;}
.hint{margin-bottom:6px;background:#fefce8;padding:6px;border-radius:8px;border:1px solid #fde68a;color:#92400e;}
.status{margin-bottom:6px;color:#334155;}
.list-container{flex:1;overflow-y:auto;}
.list{display:grid;grid-template-columns:repeat(4,1fr);gap:6px;padding:6px;border-radius:8px;background:#f8fafc;}
.item{padding:8px;border-radius:8px;text-align:center;border:1px dashed #e6edf2;background:#f8fafc;font-size:15px;}
.item.hit{background:linear-gradient(90deg,#d1fae5,#a7f3d0);border:1px solid #6ee7b7;}
.item.last-hit{box-shadow:0 0 6px 2px #34d399;}
.item.giveup{background:#fde2e2;border:1px solid #fca5a5;}
.item img{vertical-align: middle; margin-left: 6px; width: 40px; height: 40px;}
.footer{margin-top:12px;font-size:13px;color:#64748b;}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>ゆるすぎポケモンいえるかな</h1>
    <div class="meta">回答はニックネームと完全一致で入力。ギブアップすると残りがすべて公開されます</div>

    <div class="tabs">
      <button data-cat="クリスタル" class="active">クリスタル</button>
      <button data-cat="エメラルド">エメラルド</button>
      <button data-cat="プラチナ">プラチナ</button>
      <button data-cat="ＢＷ">ＢＷ</button>
    </div>

    <div class="controls">
      <input id="nameInput" type="text" placeholder="ここに入力 → Enter または 送信" autocomplete="off" />
      <button id="sendBtn" class="sendBtn">送信</button>
      <button id="resetBtn" class="secondary">リセット</button>
      <button id="showHintBtn" class="hintBtn">ヒントを見る</button>
      <button id="giveupBtn" class="giveupBtn">ギブアップ</button>
    </div>

    <div class="hint" id="hintArea">ヒントは非表示です。「ヒントを見る」ボタンを押してください。</div>
    <div class="status" id="status">正解: 0 / 0 ｜ ヒント使用回数: 0</div>

    <div class="list-container">
      <div class="list" id="list"></div>
    </div>

    <div class="footer">木の実は熟成する</div>
  </div>
</div>

<script>
// --- データ構造 ---
const WEAPON_CATEGORIES = {
  "クリスタル": { targets: [], guessed: new Set(), giveup: new Set(), images: {} },
  "エメラルド": { targets: [], guessed: new Set(), giveup: new Set(), images: {} },
  "プラチナ": { targets: [], guessed: new Set(), giveup: new Set(), images: {} },
  "ＢＷ": { targets: [], guessed: new Set(), giveup: new Set(), images: {} },
};

// --- addWeapon 関数 ---
function addWeapon(catName, weaponName, imgPath="") {
  const cat = WEAPON_CATEGORIES[catName];
  if (!cat) return;
  if (!cat.targets.includes(weaponName)) cat.targets.push(weaponName);
  if (imgPath) cat.images[weaponName] = imgPath;
}

// --- サンプル登録 ---
addWeapon("クリスタル", "あいぼう", "images/n23.png");
addWeapon("クリスタル", "あかつゆ", "images/n218.png");
addWeapon("クリスタル", "アシタカ", "images/n87.png");
addWeapon("クリスタル", "あみタイツ", "images/n73.png");
addWeapon("クリスタル", "アンカルジ", "images/n78.png");
addWeapon("クリスタル", "アンタレス", "images/n166.png");
addWeapon("クリスタル", "いがわけい", "images/n126.png");
addWeapon("クリスタル", "いやしんぼ", "images/n12.png");
addWeapon("クリスタル", "いんじゃ", "images/n114.png");
addWeapon("クリスタル", "インドラ", "images/n178.png");
addWeapon("クリスタル", "うぱあああ", "images/n194.png");
addWeapon("クリスタル", "エドガー", "images/n109.png");
addWeapon("クリスタル", "エロめマン", "images/n97.png");
addWeapon("クリスタル", "オシャパマ", "images/n200.png");
addWeapon("クリスタル", "おやじ", "images/n201.png");
addWeapon("クリスタル", "カイケツ", "images/n41.png");
addWeapon("クリスタル", "カオリン", "images/n31.png");
addWeapon("クリスタル", "カニ！！！", "images/n99.png");
addWeapon("クリスタル", "カバビンゴ", "images/n143.png");
addWeapon("クリスタル", "がんだら", "images/n229.png");
addWeapon("クリスタル", "ぎゅうた", "images/n128.png");
addWeapon("クリスタル", "きょうこ", "images/n122.png");
addWeapon("クリスタル", "きんたまお", "images/n185.png");
addWeapon("クリスタル", "きんたまこ", "images/n102.png");
addWeapon("クリスタル", "クールー", "images/n215.png");
addWeapon("クリスタル", "グラーニャ", "images/n51.png");
addWeapon("クリスタル", "くろマル", "images/n167.png");
addWeapon("クリスタル", "げっこう", "images/n43.png");
addWeapon("クリスタル", "ゴゴーゴゴ", "images/n112.png");
addWeapon("クリスタル", "こしあん", "images/n171.png");
addWeapon("クリスタル", "コッペパン", "images/n48.png");
addWeapon("クリスタル", "さいきょう", "images/n247.png");
addWeapon("クリスタル", "さくらこ", "images/n241.png");
addWeapon("クリスタル", "さだはる", "images/n130.png");
addWeapon("クリスタル", "さるこさん", "images/n190.png");
addWeapon("クリスタル", "ジョーカー", "images/n132.png");
addWeapon("クリスタル", "しょりはん", "images/n95.png");
addWeapon("クリスタル", "セイリュウ", "images/n119.png");
addWeapon("クリスタル", "ゼロスリー", "images/n85.png");
addWeapon("クリスタル", "たくろう", "images/n175.png");
addWeapon("クリスタル", "ダディ", "images/n54.png");
addWeapon("クリスタル", "タルメガイ", "images/n90.png");
addWeapon("クリスタル", "だんな", "images/n207.png");
addWeapon("クリスタル", "チャンプ", "images/n17.png");
addWeapon("クリスタル", "チュンこ", "images/n21.png");
addWeapon("クリスタル", "ていとく", "images/n232.png");
addWeapon("クリスタル", "とこやみ", "images/n198.png");
addWeapon("クリスタル", "ながぶち", "images/n193.png");
addWeapon("クリスタル", "なるかみ", "images/n125.png");
addWeapon("クリスタル", "ねここ", "images/n53.png");
addWeapon("クリスタル", "ネリネリ", "images/n46.png");
addWeapon("クリスタル", "はこびや", "images/n225.png");
addWeapon("クリスタル", "ハングリー", "images/n39.png");
addWeapon("クリスタル", "ビートバン", "images/n131.png");
addWeapon("クリスタル", "ビクトリー", "images/n197.png");
addWeapon("クリスタル", "フーディン", "images/n64.png");
addWeapon("クリスタル", "ブタたん", "images/n108.png");
addWeapon("クリスタル", "ヘドロこ", "images/n89.png");
addWeapon("クリスタル", "ほーけい", "images/n69.png");
addWeapon("クリスタル", "ホープ", "images/n104.png");
addWeapon("クリスタル", "ポコリータ", "images/n153.png");
addWeapon("クリスタル", "ボンバー！", "images/n205.png");
addWeapon("クリスタル", "ムラマサ", "images/n123.png");
addWeapon("クリスタル", "メシア", "images/n188.png");
addWeapon("クリスタル", "もうええわ", "images/n148.png");
addWeapon("クリスタル", "ヤバいヤツ", "images/n192.png");
addWeapon("クリスタル", "リンダ", "images/n210.png");
addWeapon("クリスタル", "ロジャー", "images/n226.png");
addWeapon("クリスタル", "ロモやん", "images/n60.png");

addWeapon("エメラルド", "Ｒ・Ｔ", "images/n280.png");
addWeapon("エメラルド", "アーティス", "images/n314.png");
addWeapon("エメラルド", "いぶしぎん", "images/n352.png");
addWeapon("エメラルド", "いみご", "images/n266.png");
addWeapon("エメラルド", "おおあな", "images/n346.png");
addWeapon("エメラルド", "おてんと", "images/n338.png");
addWeapon("エメラルド", "おむすび", "images/n322.png");
addWeapon("エメラルド", "かくしご", "images/n268.png");
addWeapon("エメラルド", "ギガゾンビ", "images/n344.png");
addWeapon("エメラルド", "きんたまお", "images/n299.png");
addWeapon("エメラルド", "くりのすけ", "images/n274.png");
addWeapon("エメラルド", "くわまん", "images/n312.png");
addWeapon("エメラルド", "こうてい", "images/n202.png");
addWeapon("エメラルド", "ココ", "images/n301.png");
addWeapon("エメラルド", "ゴソソソ", "images/n316.png");
addWeapon("エメラルド", "ゴロゴロ", "images/n258.png");
addWeapon("エメラルド", "サイカ", "images/n359.png");
addWeapon("エメラルド", "サスケ", "images/n290.png");
addWeapon("エメラルド", "サツキ", "images/n289.png");
addWeapon("エメラルド", "さみだれ", "images/n227.png");
addWeapon("エメラルド", "サムライ", "images/n309.png");
addWeapon("エメラルド", "さやっち", "images/n351.png");
addWeapon("エメラルド", "サラサ", "images/n28.png");
addWeapon("エメラルド", "シェルル", "images/n366.png");
addWeapon("エメラルド", "ジミヘン", "images/n74.png");
addWeapon("エメラルド", "ジャック", "images/n302.png");
addWeapon("エメラルド", "シュシュ", "images/n285.png");
addWeapon("エメラルド", "しょうぐん", "images/n304.png");
addWeapon("エメラルド", "ジョニー", "images/n340.png");
addWeapon("エメラルド", "すけべえ", "images/n271.png");
addWeapon("エメラルド", "ストリーム", "images/n278.png");
addWeapon("エメラルド", "スブタン", "images/n325.png");
addWeapon("エメラルド", "スムージー", "images/n357.png");
addWeapon("エメラルド", "ソラシド", "images/n276.png");
addWeapon("エメラルド", "たかどこ", "images/n183.png");
addWeapon("エメラルド", "たしろ", "images/n311.png");
addWeapon("エメラルド", "ツッパリ", "images/n296.png");
addWeapon("エメラルド", "ツバサ", "images/n127.png");
addWeapon("エメラルド", "でっかち", "images/n369.png");
addWeapon("エメラルド", "てるてる", "images/n354.png");
addWeapon("エメラルド", "トドドとど", "images/n365.png");
addWeapon("エメラルド", "なむあび", "images/n355.png");
addWeapon("エメラルド", "ノア", "images/n333.png");
addWeapon("エメラルド", "ハコワレ", "images/n330.png");
addWeapon("エメラルド", "ババボバボ", "images/n100.png");
addWeapon("エメラルド", "バビデブー", "images/n313.png");
addWeapon("エメラルド", "ひそひそ", "images/n294.png");
addWeapon("エメラルド", "ひよりさん", "images/n263.png");
addWeapon("エメラルド", "ふーさん", "images/n358.png");
addWeapon("エメラルド", "プラマイナ", "images/n82.png");
addWeapon("エメラルド", "ポカチョウ", "images/n25.png");
addWeapon("エメラルド", "ポチ", "images/n262.png");
addWeapon("エメラルド", "ポニー", "images/n303.png");
addWeapon("エメラルド", "ぽんぽん", "images/n331.png");
addWeapon("エメラルド", "まめるこ", "images/n321.png");
addWeapon("エメラルド", "ミスター", "images/n203.png");
addWeapon("エメラルド", "メガロニア", "images/n319.png");
addWeapon("エメラルド", "やまだ", "images/n327.png");
addWeapon("エメラルド", "ユバーバ", "images/n324.png");
addWeapon("エメラルド", "よしはる", "images/n336.png");
addWeapon("エメラルド", "リンリン", "images/n253.png");

  
// --- グローバル変数 ---
let currentCat = "クリスタル";
let hintCount = 0;
let lastHitName = null;

const input = document.getElementById('nameInput');
const sendBtn = document.getElementById('sendBtn');
const resetBtn = document.getElementById('resetBtn');
const showHintBtn = document.getElementById('showHintBtn');
const giveupBtn = document.getElementById('giveupBtn');
const status = document.getElementById('status');
const list = document.getElementById('list');
const hintArea = document.getElementById('hintArea');
const tabs = document.querySelectorAll('.tabs button');

// --- renderList ---
function renderList(){
  list.innerHTML='';
  const cat = WEAPON_CATEGORIES[currentCat];
  cat.targets.forEach(t=>{
    const div = document.createElement('div');
    let cls='item';
    if(cat.guessed.has(t)) cls+=' hit';
    else if(cat.giveup.has(t)) cls+=' giveup';
    if(t===lastHitName && cat.guessed.has(t)) cls+=' last-hit';
    div.className = cls;

    if(cat.guessed.has(t) || cat.giveup.has(t)){
      div.textContent = t;
      if(cat.images && cat.images[t]){
        const img = document.createElement('img');
        img.src = cat.images[t];
        div.appendChild(img);
      }
    } else {
      div.textContent='???';
    }
    list.appendChild(div);
  });

  const lastDiv = document.querySelector('.last-hit');
  if(lastDiv) lastDiv.scrollIntoView({behavior:'smooth', block:'center'});

  status.textContent=`正解: ${cat.guessed.size} / ${cat.targets.length} ｜ ヒント使用回数: ${hintCount}`;
}

// --- submitName ---
function submitName(raw){
  const n = raw.trim();
  if(!n) return;
  const cat = WEAPON_CATEGORIES[currentCat];
  if(cat.targets.includes(n)){
    if(!cat.guessed.has(n)){
      cat.guessed.add(n);
      lastHitName = n;
      hintArea.textContent=`${n} を ${currentCat} カテゴリで正解！`;
    } else {
      hintArea.textContent=`${n} はすでに正解済みです。`;
    }
  } else {
    hintArea.textContent='不正解です。';
  }
  renderList();
  input.value=''; input.focus();
}

// --- showHint ---
function showHint(){
  const cat = WEAPON_CATEGORIES[currentCat];
  const unguessed = cat.targets.filter(t=>!cat.guessed.has(t) && !cat.giveup.has(t));
  if(unguessed.length===0){
    hintArea.textContent="すべて回答済み！";
    return;
  }
  const choice = unguessed[Math.floor(Math.random()*unguessed.length)];
  hintArea.textContent=`ヒント: 未回答の${currentCat}の一つ 最初の文字は「${choice[0]}」`;
  hintCount++;
  renderList();
}

// --- giveup ---
function giveup(){
  const cat = WEAPON_CATEGORIES[currentCat];
  cat.targets.forEach(t=>{ if(!cat.guessed.has(t)) cat.giveup.add(t); });
  hintArea.textContent="ギブアップ！未回答をすべて公開しました。";
  lastHitName = null;
  renderList();
}

// --- イベント ---
sendBtn.addEventListener('click',()=>submitName(input.value));
input.addEventListener('keydown',e=>{if(e.key==='Enter') submitName(input.value);});
resetBtn.addEventListener('click',()=>{
  Object.values(WEAPON_CATEGORIES).forEach(c=>{ c.guessed.clear(); c.giveup.clear(); });
  hintCount=0; lastHitName=null;
  renderList(); hintArea.textContent='ヒントは非表示です。'; input.value=''; input.focus();
});
showHintBtn.addEventListener('click', showHint);
giveupBtn.addEventListener('click', giveup);
tabs.forEach(btn=>btn.addEventListener('click', ()=>{
  tabs.forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  currentCat = btn.dataset.cat;
  renderList(); hintArea.textContent='ヒントは非表示です。'; input.value=''; input.focus();
}));

renderList();
input.focus();
</script>
</body>
</html>









